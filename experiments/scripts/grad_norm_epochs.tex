\documentclass{standalone}

\usepackage{standalone}
\usepackage{pgfplots}
\usepackage{graphicx}

\begin{document}
\begin{tikzpicture}
  \begin{axis}[
    title = gradient norm per epoch,
    legend style={
      cells={anchor=east},
      legend pos={north east},
    },
    xlabel = Number of epochs,
    ylabel = Gradient Norm,
    xmin = 0,
    xmax = 16,
    ymin = 0,
    ymax = 1.2,
    ytick distance = 0.1,
    ytick pos = left,
    ylabel near ticks,
    yticklabel pos=left,
    ]

    \addplot[
    forget plot,
    color=teal,
    mark=o,
    style=solid,thick,
    ] table [x={num_epochs}, y={grad_norm}]{/home/kwang/RDMA_ML/experiments/mnist/sync/logs/RDMAwild.log.mean};
    \addlegendimage{mark=o, teal, thick}
    \addlegendentry{sync}
    
    \addplot[
    forget plot,
    color=blue,
    mark=diamond,
    style=solid,thick,
    ] table [x={num_epochs}, y={grad_norm}]{/home/kwang/RDMA_ML/experiments/mnist/async/logs/RDMAwild.log.mean};
    \addlegendimage{mark=diamond, blue, thick}
    \addlegendentry{async}

  \end{axis}
\end{tikzpicture}
\end{document}
